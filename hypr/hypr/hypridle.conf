# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# Hypridle - Auto-lock após 5 minutos
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# ~/.config/hypr/hypridle.conf
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

general {
    lock_cmd = pidof hyprlock || hyprlock       # Evita múltiplas instâncias
    before_sleep_cmd = loginctl lock-session    # Lock antes de suspender
    after_sleep_cmd = hyprctl dispatch dpms on  # Liga telas após acordar
}

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# TIMEOUTS
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Dim screen após 4 minutos (aviso antes do lock)
listener {
    timeout = 240                                # 4 min
    on-timeout = brightnessctl -s set 10%        # Reduz brilho
    on-resume = brightnessctl -r                 # Restaura brilho
}

# Lock screen após 5 minutos
listener {
    timeout = 300                                # 5 min
    on-timeout = loginctl lock-session           # Trava
}

# Desliga telas após 5min30s (30s após lock)
listener {
    timeout = 330                                # 5min 30s
    on-timeout = hyprctl dispatch dpms off       # Desliga telas
    on-resume = hyprctl dispatch dpms on         # Liga telas
}

# Suspende após 10 minutos (opcional)
# Descomente se quiser:
# listener {
#     timeout = 600                              # 10 min
#     on-timeout = systemctl suspend             # Suspende PC
# }
